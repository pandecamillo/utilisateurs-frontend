{"ast":null,"code":"import React from'react';import axios from'axios';import User from'../components/user';import Header from'../components/header';import Footer from'../components/footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PageApp(){const[users,setUsers]=React.useState([]);React.useEffect(function(){async function fetchAllUsers(){try{console.log('send request');const res=await axios.get('https://backend-iss-kin-utilisateurs.onrender.com/users');console.log('get response');setUsers(res.data);}catch{console.log(\"Erreur lors de la connection au server\");//document.getElementById(\"container\")\n//.innerHTML = \"<p>Erreur lors de la connection au server.</p>\";\n}}fetchAllUsers();},[]);let usersElements=users.map(user=>{return/*#__PURE__*/_jsx(User,{...user},user.userid);});/*function deleteUser(props){\r\n        (async () =>{\r\n            const appMessage = document.getElementById('app-message')\r\n            const appFooter = document.getElementById('footer')\r\n            try{\r\n                appMessage.style.display = \"block\";\r\n                appFooter.style.display=\"none\"\r\n                await axios.delete('https://backend-iss-kin-utilisateurs.onrender.com/user/' + props.userid);\r\n                appMessage.style.display = \"none\";\r\n                appFooter.style.display=\"flex\"\r\n            }catch{\r\n                console.log(\"Erreur lors de la connection au server\")\r\n            }    \r\n        })();\r\n    }*/return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",id:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"img\",{id:\"app-wait\",class:\"app-wait\",src:\"icons/wait.gif\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-list-container\",children:usersElements}),/*#__PURE__*/_jsx(Footer,{})]});}export default PageApp;","map":{"version":3,"names":["React","axios","User","Header","Footer","jsx","_jsx","jsxs","_jsxs","PageApp","users","setUsers","useState","useEffect","fetchAllUsers","console","log","res","get","data","usersElements","map","user","userid","className","id","children","class","src"],"sources":["D:/MY FILES/PROJECTS/Web/NEW WEB PROJECT/FRONTEND/src/pages/pageApp.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport User from '../components/user';\r\nimport Header from '../components/header';\r\nimport Footer from '../components/footer';\r\n\r\nfunction PageApp(){\r\n    const [users, setUsers] = React.useState([]);\r\n\r\n    React.useEffect(function(){\r\n        async function fetchAllUsers(){\r\n            try{\r\n                console.log('send request')\r\n                const res = await axios.get('https://backend-iss-kin-utilisateurs.onrender.com/users');\r\n                console.log('get response')\r\n                setUsers(res.data);\r\n            }catch{\r\n                console.log(\"Erreur lors de la connection au server\")\r\n                //document.getElementById(\"container\")\r\n                //.innerHTML = \"<p>Erreur lors de la connection au server.</p>\";\r\n            }          \r\n        }\r\n        fetchAllUsers();\r\n    },[])\r\n\r\n    let usersElements = users.map(\r\n        user=>{\r\n            return(\r\n              <User\r\n                key = {user.userid}\r\n                {...user}\r\n              />\r\n                )      \r\n        }      \r\n    );\r\n    \r\n    /*function deleteUser(props){\r\n        (async () =>{\r\n            const appMessage = document.getElementById('app-message')\r\n            const appFooter = document.getElementById('footer')\r\n            try{\r\n                appMessage.style.display = \"block\";\r\n                appFooter.style.display=\"none\"\r\n                await axios.delete('https://backend-iss-kin-utilisateurs.onrender.com/user/' + props.userid);\r\n                appMessage.style.display = \"none\";\r\n                appFooter.style.display=\"flex\"\r\n            }catch{\r\n                console.log(\"Erreur lors de la connection au server\")\r\n            }    \r\n        })();\r\n    }*/\r\n\r\n    return(\r\n       <div className=\"app-container\" id=\"container\">\r\n            <Header/>\r\n            <img id = \"app-wait\" class=\"app-wait\" src=\"icons/wait.gif\"/>\r\n            <div className='user-list-container'>\r\n            {usersElements}\r\n            </div>\r\n            <Footer/>     \r\n        </div>\r\n    )\r\n}\r\nexport default PageApp;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,OAAOA,CAAA,CAAE,CACd,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,CAE5CZ,KAAK,CAACa,SAAS,CAAC,UAAU,CACtB,cAAe,CAAAC,aAAaA,CAAA,CAAE,CAC1B,GAAG,CACCC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC3B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,yDAAyD,CAAC,CACtFH,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC3BL,QAAQ,CAACM,GAAG,CAACE,IAAI,CAAC,CACtB,CAAC,KAAK,CACFJ,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC,CACrD;AACA;AACJ,CACJ,CACAF,aAAa,CAAC,CAAC,CACnB,CAAC,CAAC,EAAE,CAAC,CAEL,GAAI,CAAAM,aAAa,CAAGV,KAAK,CAACW,GAAG,CACzBC,IAAI,EAAE,CACF,mBACEhB,IAAA,CAACJ,IAAI,KAECoB,IAAI,EADDA,IAAI,CAACC,MAEb,CAAC,CAER,CACJ,CAAC,CAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAEI,mBACGf,KAAA,QAAKgB,SAAS,CAAC,eAAe,CAACC,EAAE,CAAC,WAAW,CAAAC,QAAA,eACxCpB,IAAA,CAACH,MAAM,GAAC,CAAC,cACTG,IAAA,QAAKmB,EAAE,CAAG,UAAU,CAACE,KAAK,CAAC,UAAU,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAAC,cAC5DtB,IAAA,QAAKkB,SAAS,CAAC,qBAAqB,CAAAE,QAAA,CACnCN,aAAa,CACT,CAAC,cACNd,IAAA,CAACF,MAAM,GAAC,CAAC,EACR,CAAC,CAEd,CACA,cAAe,CAAAK,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}